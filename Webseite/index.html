<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AVR Webcontrol</title>
<link rel="stylesheet" href="styles.css" type="text/css">
<link rel="stylesheet" href="board.css" type="text/css">
<link rel="stylesheet" href="input.css" type="text/css">
<script src="favorite.js" type="text/javascript"> </script>
<script src="rest.js" type="text/javascript"> </script>
<script src="ui.js" type="text/javascript"> </script>
</head>
<body onload="initRest();initFavorites();initUi();setMain('status');">
	
	<!--The main div. Only the header and one of the other children should be visible a time-->
	<div class="background" id="main">
		
		<!--The header including the navigation-->
		<div id="header">
		  	<a id="status_bt" class="buttonlink" href="javascript:setMain('status')">STATUS</a>
			<a id="favorite_bt" class="buttonlink" href="javascript:setMain('favorite')">FAVORITEN</a>
			<a id="settings_bt" class="buttonlink" href="javascript:setMain('settings')">EINSTELLUNGEN</a>
		</div>
		<!--End #header-->
		
		<!--The div containing the status tab-->
		<div class="mainDiv" id="status">

			<!--The board drawing-->
			<div id="board">
				<form action="index.html" method="post" id="form">
					<div class="green" id="cb_main">
						<div class="circle lo background"> </div>
						<div class="circle lu background"> </div>
						<div class="circle ro background"> </div>
						<div class="circle ru background"> </div>
						<div class="cb_el black" id="cb_cpu">
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
							<div class="feet"> </div>
						</div>
						<div class="cb_el black" id="cb_cpu"> </div>
						<div class="cb_el silver" id="cb_net"> </div>
						<div class="cb_el black" id="cb_con">
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
							<div class="feet short"> </div>
						</div>
						<div class="cb_el black" id="cb_con"> </div>
						<div class="cb_el cb_pin isp black">
							<div class="cb_pin_inner">
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
							</div>
						</div>
						<div class="cb_el cb_pin ext black">
							<div class="cb_pin_inner">
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
								<div class="pin"> </div>
							</div>
							<div id="cb_ext_pins">
								<div class="cb_pins_dist">
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT0" id="EXT0" />
										<label for="EXT0"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT1" id="EXT1" />
										<label for="EXT1"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT2" id="EXT2" />
										<label for="EXT2"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT3" id="EXT3" />
										<label for="EXT3"> </label>
									</div>
									<div class="pinCheck pinCheckUnclickable pinCheckGround">
										<input type="checkbox" name="OUT" value="EXT4" id="EXT4" />
										<label for="EXT4"></label>
									</div>
								</div>
								<div class="cb_pins_dist b" id
="cb_ext_pins_dist">
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT5" id="EXT5" />
										<label for="EXT5"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT6"  id="EXT6" />
										<label for="EXT6"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT7" id="EXT7" />
										<label for="EXT7"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="EXT8" id="EXT8" />
										<label for="EXT8"> </label>
									</div>
									<div class="pinCheck pinCheckUnclickable pinCheckPlus">
										<input type="checkbox" name="OUT" value="EXT9" id="EXT9" />
										<label for="EXT9"> </label>
									</div>
								</div>
							</div>
							<div id="cb_ext_pins_bar"><div id="cb_ext_pins_bar_h"></div></div>
						</div>
						<div class="cb_el cb_se" id="cb_se1"> 
							<div class="cb_el cb_se mon up silver"> </div>
							<div class="cb_el cb_se mon do silver"> </div>
							<div class="cb_el cb_se bar black"> </div>
							<div class="cb_el cb_se back black"> </div>
							<div class="cb_el cb_se metal silver"> </div>
							<div id="cb_se_pins">
								<div class="cb_pins_dist">
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C0" id="C0" />
										<label for="C0"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C1" id="C1" />
										<label for="C1"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C2" id="C2" />
										<label for="C2"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C3" id="C3" />
										<label for="C3"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C4" id="C4" />
										<label for="C4"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C5" id="C5" />
										<label for="C5"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C6"  id="C6" />
										<label for="C6"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C7" id="C7" />
										<label for="C7"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C8" id="C8" />
										<label for="C8"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C9" id="C9" />
										<label for="C9"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C10" id="C10" />
										<label for="C10"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C11" id="C11" />
										<label for="C11"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C12" id="C12" />
										<label for="C12"> </label>
									</div>
								</div>
								<div class="cb_pins_dist b" id="cb_se_pins_dist">
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C13" id="C13" />
										<label for="C13"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C14" id="C14" />
										<label for="C14"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C15" id="C15" />
										<label for="C15"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C16" id="C16" />
										<label for="C16"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C17" id="C17" />
										<label for="C17"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C18"  id="C18" />
										<label for="C18"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C19" id="C19" />
										<label for="C19"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C20" id="C20" />
										<label for="C20"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C21" id="C21" />
										<label for="C21"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C22" id="C22" />
										<label for="C22"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C23" id="C23" />
										<label for="C23"> </label>
									</div>
									<div class="pinCheck">
										<input type="checkbox" name="OUT" value="C24" id="C24" />
										<label for="C24"> </label>
									</div>
								</div>
							</div>
						</div>
						<div class="cb_el cb_se" id="cb_se2"> 
							<div class="cb_el cb_se mon up silver"> </div>
							<div class="cb_el cb_se mon do silver"> </div>
							<div class="cb_el cb_se bar black"> </div>
							<div class="cb_el cb_se back black"> </div>
							<div class="cb_el cb_se metal silver"> </div>
						</div>
						<div class="cb_el " id="cb_ana">
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
							<div class="a_box blue"> <div class="circle screw silver"> <div class="screw head"> </div></div></div>
						</div>
						<div class="cb_el " id="cb_ac">
							<div class="a_box blue"><div class="circle screw silver"><div class="screw head"> </div></div></div>
							<div class="a_box blue"><div class="circle screw silver"><div class="screw head"> </div></div></div>
						</div>
					<div class="circle led_on"> </div>
					</div>
				</form>
			</div>
			<!--End of the board drawing-->
			
			<!--The sidebar-->
			<div class="sidebar">
				<h1 id="detail_title">--</h1>
				<p>AKTUELLER WERT</p>
				<p class="detail" id="p_val">--</p>
				<p>KONFIGURATION</p>
				<p class="detail">
					<div class="select">
						<select id="s_conf"> </select>
						<label for="s_conf"> </label>
					</div>
				</p>
				<p>TYP</p>
				<p class="detail" id="p_type">--</p>
				<p>MANIPULIERBAR</p>
				<p class="detail" id="p_mani">--</p>
				<p>POSITION AN CPU</p>
				<p class="detail" id="p_pid">--</p>
				<p>FAVORIT</p>
				<p class="detail">
					<div class="checkbox">
						<input type="checkbox" id="cb_fav" onclick="toggleFavorite(displayDetailId)" value="None" />
						<label for="cb_fav"> </label>
					</div>
				<p>BESCHREIBUNG</p>
				<p class="detail" id="p_desc">--</p>
				<p>SCRIPT-FUNKTION</p>
				<p class="detail" id="p_func">--</p>
			</div>
			<!--End of the sidebar-->

			<!--clear floating-->
			<div style="clear:both"> </div>

		</div>
		<!--End #status-->
		
		<!--The div containing the favorite tab-->
		<div class="mainDiv" id="favorite">
			<table cellspacing="0">
				<thead>
					<th>Pin</th>
					<th>Beschreibung</th>
					<th>Position an CPU</th>
					<th>Konfiguration</th>
					<th>Typ</th>
					<th>Wert</th>
					<th>Wert (angepasst)</th>
					<th> </th>
				</thead>
				<tbody id="favoritesTbody">
					<tr><td>Digital 1</td><td>Schalter 1</td><td>Port C Pin 0</td><td>Eingang</td><td>Digital</td><td>1</td><td>Gedr&uuml;ckt</td><td><input type="button" value="Anpassen" onclick="showOverlay('configureFav')"/></td></tr>
					<tr><td>Digital 2</td><td>Schalter 2</td><td>Port C Pin 2</td><td>Eingang</td><td>Digital</td><td>1</td><td>Gedr&uuml;ckt</td><td><input type="button" value="Anpassen" onclick="showOverlay('configureFav')"/></td></tr>
					<tr><td>Digital 3</td><td>Schalter 3</td><td>Port C Pin 3</td><td>Eingang</td><td>Digital</td><td>1</td><td>Gedr&uuml;ckt</td><td><input type="button" value="Anpassen" onclick="showOverlay('configureFav')"/></td></tr>
					<tr><td>Digital 4</td><td>LED 1</td><td>Port C Pin 4</td><td>Ausgang</td><td>Digital</td><td>1</td><td>Leuchtet</td><td><input type="button" value="Anpassen" onclick="showOverlay('configureFav')"/></td></tr>
					<tr><td>Analog 1</td><td>Temperatursensor</td><td>AD Wandler 1</td><td>Eingang</td><td>Analog</td><td>2,4V</td><td>18 &ordm;C</td><td><input type="button" value="Anpassen" onclick="showOverlay('configureFav')"/></td></tr>
				</tbody>
			</table>

		</div>
		<!--End #favorite-->
		
		<!--The div containing the settings tab-->
		<div class="mainDiv" id="settings">
			<table cellspacing="0">
				<tbody >
					<tr>
						<td class="title">IP-Adresse</td>
						<td>
							<p id="setting_ip">--</p>
							<input type="button" value="&Auml;ndern" onclick="showOverlay('changeIp')"/>
						</td>
					</tr>
					<tr>
						<td class="title">Reboot IP-Adresse</td>
						<td>
							<p id="setting_def_ip">--</p>
						</td>
					</tr>
					<tr>
						<td class="title">Mac-Adresse</td>
						<td>
							<p id="setting_mac">--</p>
						</td>
					</tr>
					<tr>
						<td class="title">Server-Version</td>
						<td>
							<p id="setting_version">--</p>
						</td>
					</tr>
					<tr>
						<td class="title">Polling Frequenz</td>
						<td>
							<p id="setting_freq">--</p>
							<input type="button" value="&Auml;ndern" onclick="showOverlay('changeFreq')"/>
						</td>
					</tr>
					<tr>
						<td class="title">&Uuml;ber</td>
						<td>
							<input type="button" value="Credits zeigen" onclick="showOverlay('showCredits')"/>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!--End #settings-->
	</div>
	<!--End #main-->
	
	<!--Overlay to change Polling frequency-->
	<div class="overlay" id="changeFreq">
		<div class="overlayMain">
			<h1>Polling Frequenz &auml;ndern</h1>
			<input type="text" id="changeFreqInput" maxlength="5" onkeydown="return event.keyCode==8||event.keyCode>37&&event.keyCode<=40||event.keyCode>=48&&event.keyCode<=57" />
			<p class="inline">ms</p>
			<div class="bottom">
				<input class="cancel" type="button" value="Abbrechen" onclick="hideOverlay();"/>
				<input class="ok" type="button" value="OK" onclick="hideOverlay();if(!setPollingFreq(getEl('changeFreqInput').value))showErrorOverlay('Die eingegebene Frequenz war nicht korrekt. Der Wert mus zwischen 0 und 60000 liegen. Bitte versuchen Sie es erneut.');"/>
			</div>
		</div>
	</div>
	<!--End #changeFreq-->
	
	<!--Overlay to display Credits-->
	<div class="overlay" id="showCredits">
		<div class="overlayMain">
			<h1>Credits</h1>
			<p>&copy;2014 Ann-Sophie Dietrich, Marcel Schlipf, Jan-Hendrik Preu&szlig; & Christian W&uuml;rthner</p>
			<p>&nbsp;</p>
			<p>Ein Projekt im Rahmen einer Semesterarbeit im Studiengang &bdquo;Allgemeine 
				Informatik&ldquo; der <a href="http://hs-furtwangen.de/">Hochschule Furtwangen Univesity</a>.</p>
			<p>&nbsp;</p>
			<p>Diese Software ist unter der 
				<a href="https://www.gnu.org/copyleft/gpl.html">GNU Public License Version 3</a> lizensiert.</p>
			<p>&nbsp;</p>
			<p>Weitere Informationen und Sources sind auf <a href="https://github.com/doofmars/Embedded-Webserver">GitHub</a> zu finden.</p>
			<div class="bottom">
				<input class="ok" type="button" value="Schlie&szlig;en" onclick="hideOverlay();"/>
			</div>
		</div>
	</div>
	<!--End #showCredits-->
	
	<!--Overlay to display Credits-->
	<div class="overlay" id="changeIp">
		<div class="overlayMain">
			<h1>Server-IP Adresse &auml;ndern</h1>
			<input type="text" id="changeIpInput"/>
			<div class="bottom">
				<input class="cancel" type="button" value="Abbrechen" onclick="hideOverlay();"/>
				<input class="ok" type="button" value="OK" onclick="hideOverlay();showOverlay('showWait');if(!setIP(getEl('changeIpInput').value))showErrorOverlay('Die eingegebene IP war nicht korrekt. Bitte versuchen Sie es erneut.');"/>
			</div>
		</div>
	</div>
	<!--End #changeIp-->
	
	<!--Overlay to display Credits-->
	<div class="overlay" id="configureFav">
		<div class="overlayMain">
			<h1>Favorit anpassen</h1>
			<div class="bottom">
				<input class="cancel" type="button" value="Abbrechen" onclick="hideOverlay();"/>
				<input class="ok" type="button" value="Schlie&szlig;en" onclick="hideOverlay();"/>
			</div>
		</div>
	</div>
	<!--End #configureFav-->
	
	<!--Overlay to an error message-->
	<div class="overlay" id="showError">
		<div class="overlayMain">
			<h1>Fehler</h1>
			<p id="errorText"> </p>
			<div class="bottom">
				<input class="cancel" type="button" value="Seite neuladen" onclick="window.location.reload()"/>
				<input class="ok" type="button" value="Schlie&szlig;en" onclick="hideOverlay();"/>
			</div>
		</div>
	</div>
	<!--End #showError-->
	
		<!--Overlay to an error message-->
	<div class="overlay" id="showWait">
		<div class="overlayMain">
			<h1>Warte auf Verbindung...</h1>
			<p>Es wird darauf gewartet das der Server sich mit der neuen IP-Adresse meldet.</p>
		</div>
	</div>
	<!--End #showError-->
	
</body>
</html>